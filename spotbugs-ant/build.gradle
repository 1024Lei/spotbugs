apply from: "$rootDir/gradle/checkstyle.gradle"
apply from: "$rootDir/gradle/javadoc.gradle"
apply from: "$rootDir/gradle/maven.gradle"
apply from: "$rootDir/gradle/jigsaw.gradle"

dependencies {
  implementation project(':spotbugs')
  compileOnly 'org.apache.ant:ant:1.10.8'
}

javadoc {
  options.with {
    memberLevel = JavadocMemberLevel.PUBLIC
    docTitle = 'SpotBugs Ant Task Documentation'
  }
}

jar {
  // To keep backward compatibility, delete version number from jar name
  archiveFileName = "${archiveBaseName.get()}.${archiveExtension.get()}"
}

java {
  withJavadocJar()
  withSourcesJar()
}

publishing.publications.maven {
  pom {
    name = 'SpotBugs Ant Task'
    description = 'Ant Task to run SpotBugs'
  }
}
